{
	"type": "origins:multiple",
	"name": "fox.thfoxify.name",
	"description": "fox.thfoxify.description",
	"badges": [
		{
			"type": "origins:tooltip",
			"sprite": "origins:textures/gui/badge/active.png",
			"text": [
				{
					"translate": "thorigins.active_ability"
				},
				{
					"text": "1. ",
					"color": "aqua"
				},
				{
					"translate": "thfoxify.key0"
				},
				{
					"keybind": "key.sprint",
					"color": "aqua"
				},
				{
					"translate": "thfoxify.key1"
				},
				{
					"keybind": "key.sprint",
					"color": "aqua"
				},
				{
					"translate": "thfoxify.key2"
				},
				{
					"text": "\n\n"
				},
				{
					"text": "2. ",
					"color": "aqua"
				},
				{
					"translate": "thfoxify.key3"
				},
				{
					"keybind": "key.use",
					"color": "aqua"
				},
				{
					"translate": "thfoxify.key4"
				},
				{
					"keybind": "key.drop",
					"color": "aqua"
				},
				{
					"translate": "thfoxify.key5"
				},
				{
					"translate": "thfoxify.key8"
				},
				{
					"keybind": "key.use",
					"color": "aqua"
				},
				{
					"translate": "thfoxify.key9"
				},
				{
					"translate": "thorigins.press1"
				},
				{
					"keybind": "key.saveToolbarActivator",
					"color": "aqua"
				},
				{
					"translate": "thfoxify.key10"
				},
				{
					"text": "\n\n"
				},
				{
					"text": "3. ",
					"color": "aqua"
				},
				{
					"translate": "thfoxify.key6"
				},
				{
					"keybind": "key.saveToolbarActivator",
					"color": "aqua"
				},
				{
					"translate": "thfoxify.key7"
				}
			]
		},
		{
			"type": "origins:tooltip",
			"sprite": "origins:textures/gui/badge/info.png",
			"text": [
				{
					"translate": "thfoxify.info0"
				},
				{
					"text": "1. ",
					"color": "aqua"
				},
				{
					"translate": "thorigins.press1"
				},
				{
					"keybind": "key.sprint",
					"color": "aqua"
				},
				{
					"translate": "thfoxify.info1"
				},
				{
					"text": "2. ",
					"color": "aqua"
				},
				{
					"translate": "thorigins.press1"
				},
				{
					"keybind": "key.swapOffhand",
					"color": "aqua"
				},
				{
					"translate": "thfoxify.info2"
				},
				{
					"text": "3. ",
					"color": "aqua"
				},
				{
					"translate": "thorigins.press1"
				},
				{
					"keybind": "key.saveToolbarActivator",
					"color": "aqua"
				},
				{
					"translate": "thfoxify.info3"
				},
				{
					"translate": "thfoxify.info4"
				}
			]
		},
		{
			"type": "origins:keybind",
			"sprite": "origins:textures/gui/badge/arrow_up.png",
			"text": "thfoxify.keybind.info"
		}
	],

	"ticks": {
		"type": "origins:action_over_time",
		"interval": 1,
		"entity_action": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:resource",
						"resource": "*:*_afk_timer",
						"compare_to": 0,
						"comparison": ">"
					},
					"if_action": {
						"type": "origins:change_resource",
						"resource": "*:*_afk_timer",
						"change": -1
					}
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:and",
						"conditions": [
							{
								"type": "origins:resource",
								"resource": "*:*_afk_timer",
								"compare_to": 0,
								"comparison": "=="
							},
							{
								"type": "origins:command",
								"command": "/data get entity @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..0.2,limit=1] Age",
								"compare_to": -10,
								"comparison": ">"
							},
							{
								"type": "origins:or",
								"conditions": [
									{
										"type": "origins:scoreboard",
										"objective": "foxtype",
										"compare_to": 2,
										"comparison": "=="
									},
									{
										"type": "origins:scoreboard",
										"objective": "foxtype",
										"compare_to": 3,
										"comparison": "=="
									}
								]
							}
						]
					},
					"if_action": {
						"type": "origins:execute_command",
						"command": "/data modify entity @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..0.2,limit=1] Age set value -6000"
					}
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:and",
						"conditions": [
							{
								"type": "origins:resource",
								"resource": "*:*_afk_timer",
								"compare_to": 1,
								"comparison": ">"
							},
							{
								"type": "origins:power_active",
								"power": "*:*_hiding_fox"
							}
						]
					},
					"if_action": {
						"type": "origins:toggle",
						"power": "*:*_hiding_fox"
					}
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:command",
						"command": "/data get entity @s SleepTimer",
						"compare_to": 1,
						"comparison": "=="
					},
					"if_action": {
						"type": "origins:change_resource",
						"resource": "*:*_afk_timer",
						"change": 1,
						"operation": "set"
					}
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:or",
						"conditions": [
							{
								"type": "origins:resource",
								"resource": "*:fox/universal_settings_enable_sleepin_mode",
								"compare_to": 0,
								"comparison": "=="
							},
							{
								"type": "origins:scoreboard",
								"objective": "foxtype",
								"compare_to": 0,
								"comparison": "<"
							},
							{
								"type": "origins:moving"
							},
							{
								"type": "origins:fall_distance",
								"compare_to": 0,
								"comparison": ">"
							},
							{
								"type": "origins:using_item",
								"item_condition": {
									"type": "origins:food",
									"inverted": true
								}
							},
							{
								"type": "origins:gamemode",
								"gamemode": "spectator"
							},
							{
								"type": "origins:creative_flying"
							},
							{
								"type": "origins:and",
								"conditions": [
									{
										"type": "origins:resource",
										"resource": "*:*_afk_timer",
										"compare_to": 0,
										"comparison": "=="
									},
									{
										"type": "origins:command",
										"command": "/execute if entity @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,distance=..1,limit=1]",
										"compare_to": 0,
										"comparison": "=="
									},
									{
										"type": "origins:resource",
										"resource": "*:*_figura_state",
										"compare_to": 0,
										"comparison": "=="
									}
								]
							}
						]
					},
					"if_action": {
						"type": "origins:change_resource",
						"resource": "*:*_afk_timer",
						"change": 1200,
						"operation": "set"
					}
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:and",
						"conditions": [
							{
								"type": "origins:command",
								"command": "/execute if entity @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,distance=..0.2,limit=1]",
								"compare_to": 1,
								"comparison": "=="
							},
							{
								"type": "origins:command",
								"command": "/power has @e[type=fox,nbt={NoAI:1b,NoGravity:1b},sort=nearest,tag=sleepin,distance=..0.2,limit=1] thorigins:fox/thsleepin_fox",
								"compare_to": 0,
								"comparison": "=="
							}
						]
					},
					"if_action": {
						"type": "origins:execute_command",
						"command": "/power grant @e[type=fox,nbt={NoAI:1b,NoGravity:1b},sort=nearest,tag=sleepin,distance=..0.2,limit=1] thorigins:fox/thsleepin_fox thorigins:universal"
					}
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:command",
						"command": "/data get entity @s SleepTimer",
						"compare_to": 0,
						"comparison": ">"
					},
					"if_action": {
						"type": "origins:execute_command",
						"command": "/tp @e[type=fox,nbt={NoAI:1b,NoGravity:1b},sort=nearest,tag=sleepin,distance=..0.2,limit=1] ~ ~-0.15 ~"
					},
					"else_action": {
						"type": "origins:execute_command",
						"command": "/tp @e[type=fox,nbt={NoAI:1b,NoGravity:1b},sort=nearest,tag=sleepin,distance=..0.2,limit=1] ~ ~-0.025 ~"
					}
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:health",
						"compare_to": 0,
						"comparison": ">"
					},
					"if_action": {
						"type": "origins:if_else",
						"condition": {
							"type": "origins:and",
							"conditions": [
								{
									"type": "origins:resource",
									"resource": "*:*_figura_state",
									"compare_to": 0,
									"comparison": "=="
								},
								{
									"type": "origins:resource",
									"resource": "*:*_afk_timer",
									"compare_to": 0,
									"comparison": "=="
								}
							]
						},
						"if_action": {
							"type": "origins:change_resource",
							"resource": "*:*_sleepin_mode_status",
							"change": 1
						},
						"else_action": {
							"type": "origins:change_resource",
							"resource": "*:*_sleepin_mode_status",
							"change": -1
						}
					}
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:resource",
						"resource": "*:*_afk_timer",
						"compare_to": 1,
						"comparison": "<="
					},
					"if_action": {
						"type": "origins:if_else",
						"condition": {
							"type": "origins:resource",
							"resource": "*:*_in_wall_check",
							"compare_to": 10,
							"comparison": "<"
						},
						"if_action": {
							"type": "origins:change_resource",
							"resource": "*:*_in_wall_check",
							"change": 1,
							"operation": "add"
						}
					},
					"else_action": {
						"type": "origins:if_else",
						"condition": {
							"type": "origins:resource",
							"resource": "*:*_sleepin_in_wall_check",
							"compare_to": 0,
							"comparison": ">"
						},
						"if_action": {
							"type": "origins:change_resource",
							"resource": "*:*_sleepin_in_wall_check",
							"change": -1,
							"operation": "add"
						}
					}
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:and",
						"conditions": [
							{
								"type": "origins:scoreboard",
								"objective": "foxtype",
								"compare_to": 0,
								"comparison": ">="
							},
							{
								"type": "origins:scoreboard",
								"objective": "foxtype",
								"compare_to": 3,
								"comparison": "<="
							}
						]
					},
					"if_action": {
						"type": "origins:change_resource",
						"resource": "*:*_figura_state",
						"change": -1
					},
					"else_action": {
						"type": "origins:change_resource",
						"resource": "*:*_figura_state",
						"change": 1
					}
				},
				{
					"type": "origins:execute_command",
					"command": "/execute as @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin] at @s run execute unless entity @p[distance=..1] run kill @s"
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:resource",
						"resource": "*:*_ride_status",
						"compare_to": 1,
						"comparison": "=="
					},
					"if_action": {
						"type": "origins:and",
						"actions": [
							{
								"type": "origins:execute_command",
								"command": "/execute at @e[tag=hatting,type=fox,limit=1,sort=nearest,distance=..1.5,nbt={Sleeping:0b,Sitting:1b}] run tp @e[tag=mounted,type=armor_stand,limit=1,sort=nearest,distance=..1.5] ~ ~ ~ facing ^ ^ ^1"
							},
							{
								"type": "origins:execute_command",
								"command": "/tp @e[tag=hatting,type=fox,limit=1,sort=nearest,distance=..2,nbt={Sleeping:1b}] ~ ~ ~ facing ^0.01 ^ ^-1"
							},
							{
								"type": "origins:execute_command",
								"command": "/tp @e[tag=hatting,type=fox,limit=1,sort=nearest,distance=..2,nbt={Sleeping:0b,Sitting:1b}] ~ ~ ~ facing ^ ^ ^1"
							}
						]
					},
					"else_action": {
						"type": "origins:passenger_action",
						"bientity_condition": {
							"type": "origins:target_condition",
							"condition": {
								"type": "origins:entity_type",
								"entity_type": "minecraft:fox"
							}
						},
						"action": {
							"type": "origins:dismount"
						}
					}
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:and",
						"conditions": [
							{
								"type": "origins:resource",
								"resource": "*:*_riding_player",
								"compare_to": 0,
								"comparison": "=="
							},
							{
								"type": "origins:riding"
							}
						]
					},
					"if_action": {
						"type": "origins:change_resource",
						"resource": "*:*_riding_player",
						"change": 1
					}
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:and",
						"conditions": [
							{
								"type": "origins:resource",
								"resource": "*:*_riding_player",
								"compare_to": 1,
								"comparison": "=="
							},
							{
								"type": "origins:riding",
								"inverted": true
							}
						]
					},
					"if_action": {
						"type": "origins:change_resource",
						"resource": "*:*_riding_player",
						"change": -1
					}
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:and",
						"conditions": [
							{
								"type": "origins:resource",
								"resource": "*:*_afk_timer",
								"comparison": "<=",
								"compare_to": 1
							},
							{
								"type": "origins:command",
								"command": "/execute if entity @e[type=fox,nbt={NoAI:1b,Sitting:1b},tag=sleepin,distance=..1,limit=1]",
								"compare_to": 1,
								"comparison": "=="
							}
						]
					},
					"if_action": {
						"type": "origins:execute_command",
						"command": "/tp @e[type=fox,nbt={NoAI:1b,Sitting:1b},tag=sleepin,distance=..1,limit=1] ~ ~ ~ facing ^ ^ ^1"
					}
				}
			]
		}
	},

	"perspective_check": {
		"type": "origins:resource",
		"min": 0,
		"max": 3,
		"start_value": 0,
		"max_action": {
			"type": "origins:change_resource",
			"resource": "*:*_perspective_check",
			"change": 0,
			"operation": "set"
		}
	},

	"perspective_change": {
		"type": "origins:active_self",
		"key": "key.togglePerspective",
		"cooldown": 1,
		"entity_action": {
			"type": "origins:change_resource",
			"resource": "*:*_perspective_check",
			"change": 1
		}
	},

	"afk_timer": {
		"type": "origins:resource",
		"min": 0,
		"max": 1200,
		"min_action": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:if_else_list",
					"actions": [
						{
							"condition": {
								"type": "origins:scoreboard",
								"objective": "foxtype",
								"compare_to": 0,
								"comparison": "=="
							},
							"action": {
								"type": "origins:execute_command",
								"command": "/summon fox ~ ~0.05 ~ {Type:red,Sleeping:1,NoGravity:1b,NoAI:1b,Tags:[\"sleepin\"],HandItems:[{id:air,Count:1}],HandDropChances:[f],CanPickUpLoot:0b,cardinal_components:{\"apoli:powers\":{Powers:[{Type:\"thorigins:fox/thsleepin_fox\",Data:{},Sources:[\"thorigins:universal\"]}]}}}"
							}
						},
						{
							"condition": {
								"type": "origins:scoreboard",
								"objective": "foxtype",
								"compare_to": 1,
								"comparison": "=="
							},
							"action": {
								"type": "origins:execute_command",
								"command": "/summon fox ~ ~0.05 ~ {Type:snow,Sleeping:1,NoGravity:1b,NoAI:1b,Tags:[\"sleepin\"],HandItems:[{id:air,Count:1}],HandDropChances:[f],CanPickUpLoot:0b,cardinal_components:{\"apoli:powers\":{Powers:[{Type:\"thorigins:fox/thsleepin_fox\",Data:{},Sources:[\"thorigins:universal\"]}]}}}"
							}
						},
						{
							"condition": {
								"type": "origins:scoreboard",
								"objective": "foxtype",
								"compare_to": 2,
								"comparison": "=="
							},
							"action": {
								"type": "origins:execute_command",
								"command": "/summon fox ~ ~0.05 ~ {Type:red,Sleeping:1,NoGravity:1b,NoAI:1b,Tags:[\"sleepin\"],HandItems:[{id:air,Count:1}],HandDropChances:[f],Age:-6000,ForcedAge:-100,CanPickUpLoot:0b,cardinal_components:{\"apoli:powers\":{Powers:[{Type:\"thorigins:fox/thsleepin_fox\",Data:{},Sources:[\"thorigins:universal\"]}]}}}"
							}
						},
						{
							"condition": {
								"type": "origins:scoreboard",
								"objective": "foxtype",
								"compare_to": 3,
								"comparison": "=="
							},
							"action": {
								"type": "origins:execute_command",
								"command": "/summon fox ~ ~0.05 ~ {Type:snow,Sleeping:1,NoGravity:1b,NoAI:1b,Tags:[\"sleepin\"],HandItems:[{id:air,Count:1}],HandDropChances:[f],Age:-6000,ForcedAge:-100,CanPickUpLoot:0b,cardinal_components:{\"apoli:powers\":{Powers:[{Type:\"thorigins:fox/thsleepin_fox\",Data:{},Sources:[\"thorigins:universal\"]}]}}}"
							}
						}
					]
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:and",
						"conditions": [
							{
								"type": "origins:scoreboard",
								"objective": "foxtype",
								"compare_to": 3,
								"comparison": "<="
							},
							{
								"type": "origins:riding"
							}
						]
					},
					"if_action": {
						"type": "origins:and",
						"actions": [
							{
								"type": "origins:riding_action",
								"action": {
									"type": "origins:execute_command",
									"command": "/tag @s add to_be_ridden"
								}
							},
							{
								"type": "origins:dismount"
							},
							{
								"type": "origins:area_of_effect",
								"radius": 5,
								"bientity_condition": {
									"type": "origins:target_condition",
									"condition": {
										"type": "origins:and",
										"conditions": [
											{
												"type": "origins:entity_type",
												"entity_type": "minecraft:fox"
											},
											{
												"type": "origins:nbt",
												"nbt": "{\"Tags\":[\"sleepin\"]}"
											}
										]
									}
								},
								"bientity_action": {
									"type": "origins:and",
									"actions": [
										{
											"type": "origins:target_action",
											"action": {
												"type": "origins:area_of_effect",
												"radius": 5,
												"bientity_condition": {
													"type": "origins:target_condition",
													"condition": {
														"type": "origins:nbt",
														"nbt": "{\"Tags\":[\"to_be_ridden\"]}"
													}
												},
												"bientity_action": {
													"type": "origins:and",
													"actions": [
														{
															"type": "origins:mount"
														},
														{
															"type": "origins:target_action",
															"action": {
																"type": "origins:execute_command",
																"command": "/tag @s remove to_be_ridden"
															}
														}
													]
												}
											}
										},
										{
											"type": "origins:mount"
										}
									]
								}
							}
						]
					}
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:resource",
						"resource": "*:*_figura_state",
						"compare_to": 0,
						"comparison": "=="
					},
					"if_action": {
						"type": "origins:delay",
						"ticks": 1,
						"action": {
							"type": "origins:and",
							"actions": [
								{
									"type": "origins:if_else",
									"condition": {
										"type": "origins:riding"
									},
									"if_action": {
										"type": "origins:execute_command",
										"command": "/scale multiply pehkui:hitbox_height 0.1 @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..1,limit=1]"
									},
									"else_action": {
										"type": "origins:execute_command",
										"command": "/scale multiply pehkui:hitbox_height 0.7 @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..1,limit=1]"
									}
								},
								{
									"type": "origins:execute_command",
									"command": "/scale multiply pehkui:hitbox_width 0.3 @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..1,limit=1]"
								},
								{
									"type": "origins:execute_command",
									"command": "/tp @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,distance=..1,limit=1] ~ ~ ~ facing ^-0.3 ^ ^-0.15"
								}
							]
						}
					}
				}
			]
		}
	},

	"in_wall_check": {
		"type": "origins:resource",
		"min": 0,
		"max": 10,
		"hud_render": {
			"should_render": false
		}
	},

	"hiding_fox": {
		"type": "origins:toggle",
		"key": "nuh.uh",
		"active_by_default": false
	},

	"ride_status": {
		"type": "origins:resource",
		"min": 0,
		"max": 1,
		"hud_render": {
			"should_render": false
		}
	},

	"sleepin_mode_status": {
		"type": "origins:resource",
		"min": 0,
		"max": 1,
		"min_action": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:execute_command",
					"command": "/scale divide pehkui:hitbox_height 0.25 @s"
				},
				{
					"type": "origins:execute_command",
					"command": "/scale delay set pehkui:hitbox_height 0 @s"
				},
				{
					"type": "origins:execute_command",
					"command": "/scale divide pehkui:third_person 1.5 @s"
				},
				{
					"type": "origins:execute_command",
					"command": "/scale reset pehkui:eye_height @s"
				}
			]
		},
		"max_action": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:riding"
					},
					"if_action": {
						"type": "origins:execute_command",
						"command": "/scale multiply pehkui:hitbox_height 0.6 @s"
					},
					"else_action": {
						"type": "origins:execute_command",
						"command": "/scale multiply pehkui:hitbox_height 0.25 @s"
					}
				},
				{
					"type": "origins:execute_command",
					"command": "/scale delay set pehkui:hitbox_height 0 @s"
				},
				{
					"type": "origins:execute_command",
					"command": "/scale multiply pehkui:third_person 1.5 @s"
				},
				{
					"type": "origins:if_else",
					"condition": {
						"type": "origins:riding"
					},
					"if_action": {
						"type": "origins:if_else",
						"condition": {
							"type": "origins:scoreboard",
							"objective": "foxtype",
							"compare_to": 1,
							"comparison": "<="
						},
						"if_action": {
							"type": "origins:nothing"
						},
						"else_action": {
							"type": "origins:execute_command",
							"command": "/scale multiply pehkui:eye_height 0.75 @s"
						}
					},
					"else_action": {
						"type": "origins:execute_command",
						"command": "/scale multiply pehkui:eye_height 0.6 @s"
					}
				}
			]
		},
		"hud_render": {
			"should_render": false
		}
	},

	"smothering_protection": {
		"type": "origins:invulnerability",
		"damage_condition": {
			"type": "origins:name",
			"name": "inWall"
		},
		"condition": {
			"type": "origins:resource",
			"resource": "*:*_in_wall_check",
			"compare_to": 0,
			"comparison": ">"
		}
	},

	"hit_mob_reset": {
		"type": "origins:action_on_hit",
		"condition": {
			"type": "origins:resource",
			"resource": "*:*_afk_timer",
			"compare_to": 1,
			"comparison": "<="
		},
		"bientity_action": {
			"type": "origins:actor_action",
			"action": {
				"type": "origins:change_resource",
				"resource": "*:*_afk_timer",
				"change": 1200,
				"operation": "set"
			}
		}
	},

	"got_hit_reset": {
		"type": "origins:action_when_damage_taken",
		"entity_action": {
			"type": "origins:change_resource",
			"resource": "*:*_afk_timer",
			"change": 1200,
			"operation": "set"
		},
		"condition": {
			"type": "origins:resource",
			"resource": "*:*_afk_timer",
			"compare_to": 1,
			"comparison": "<="
		},
		"cooldown": 1
	},

	"figura_state": {
		"type": "origins:resource",
		"min": 0,
		"max": 1,
		"hud_render": { "should_render": false }
	},

	"afk_invis": {
		"type": "origins:invisibility",
		"render_armor": false,
		"condition": {
			"type": "origins:and",
			"conditions": [
				{
					"type": "origins:resource",
					"resource": "*:*_figura_state",
					"compare_to": 0,
					"comparison": "=="
				},
				{
					"type": "origins:resource",
					"resource": "*:*_afk_timer",
					"compare_to": 0,
					"comparison": "=="
				}
			]
		}
	},

	"no_collide_fox": {
		"type": "origins:prevent_entity_collision",
		"bientity_condition": {
			"type": "origins:and",
			"conditions": [
				{
					"type": "origins:distance",
					"compare_to": 1,
					"comparison": "<="
				},
				{
					"type": "origins:target_condition",
					"condition": {
						"type": "origins:and",
						"conditions": [
							{
								"type": "origins:entity_type",
								"entity_type": "fox"
							},
							{
								"type": "origins:nbt",
								"nbt": "{NoAI:1b}"
							}
						]
					}
				}
			]
		}
	},

	"wakeup_disable": {
		"type": "origins:action_on_wake_up",
		"entity_action": {
			"type": "origins:change_resource",
			"resource": "*:*_afk_timer",
			"change": 1200,
			"operation": "set"
		}
	},

	"prevent_feed": {
		"type": "origins:prevent_entity_use",
		"bientity_condition": {
			"type": "origins:target_condition",
			"condition": {
				"type": "origins:and",
				"conditions": [
					{
						"type": "origins:entity_type",
						"entity_type": "fox"
					},
					{
						"type": "origins:nbt",
						"nbt": "{NoAI:1b,\"Tags\": [\"sleepin\"]}"
					}
				]
			}
		}
	},

	"active_self_sprint": {
		"type": "origins:active_self",
		"key": "key.sprint",
		"cooldown": 1,
		"entity_action": {
			"type": "origins:if_else",
			"condition": {
				"type": "origins:resource",
				"resource": "*:*_afk_timer",
				"compare_to": 0,
				"comparison": "=="
			},
			"if_action": {
				"type": "origins:execute_command",
				"command": "/tp @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,distance=..1,limit=1] ~ ~ ~ facing ^-0.3 ^ ^-0.15"
			},
			"else_action": {
				"type": "origins:if_else",
				"condition": {
					"type": "origins:and",
					"conditions": [
						{
							"type": "origins:resource",
							"resource": "*:fox/universal_settings_enable_sleepin_mode",
							"compare_to": 1,
							"comparison": "=="
						},
						{
							"type": "origins:scoreboard",
							"objective": "foxtype",
							"compare_to": 0,
							"comparison": ">="
						},
						{
							"type": "origins:moving",
							"inverted": true
						},
						{
							"type": "origins:resource",
							"resource": "*:*_afk_timer",
							"compare_to": 20,
							"comparison": ">"
						}
					]
				},
				"if_action": {
					"type": "origins:if_else",
					"condition": {
						"type": "origins:or",
						"conditions": [
							{
								"type": "origins:riding"
							},
							{
								"type": "origins:sneaking"
							}
						]
					},
					"if_action": {
						"type": "origins:change_resource",
						"resource": "*:*_afk_timer",
						"change": 5,
						"operation": "set"
					}
				}
			}
		}
	},

	"active_self_drop": {
		"type": "origins:active_self",
		"key": "key.drop",
		"cooldown": 1,
		"entity_action": {
			"type": "origins:if_else_list",
			"actions": [
				{
					"condition": {
						"type": "origins:and",
						"conditions": [
							{
								"type": "origins:equipped_item",
								"equipment_slot": "mainhand",
								"item_condition": {
									"type": "origins:empty"
								}
							},
							{
								"type": "origins:resource",
								"resource": "*:*_ride_status",
								"compare_to": 1,
								"comparison": "=="
							}
						]
					},
					"action": {
						"type": "origins:and",
						"actions": [
							{
								"type": "origins:passenger_action",
								"action": {
									"type": "origins:dismount"
								}
							},
							{
								"type": "origins:change_resource",
								"resource": "*:*_ride_status",
								"change": 0,
								"operation": "set"
							}
						]
					}
				}
			]
		}
	},

	"active_self_sta": {
		"type": "origins:active_self",
		"key": "key.saveToolbarActivator",
		"cooldown": 1,
		"entity_action": {
			"type": "origins:if_else_list",
			"actions": [
				{
					"condition": {
						"type": "origins:resource",
						"resource": "*:*_afk_timer",
						"compare_to": 1,
						"comparison": "<="
					},
					"action": {
						"type": "origins:if_else",
						"condition": {
							"type": "origins:command",
							"command": "/data get entity @e[type=fox,nbt={Sleeping:1b,NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..1,limit=1] Sleeping",
							"compare_to": 1,
							"comparison": "=="
						},
						"if_action": {
							"type": "origins:and",
							"actions": [
								{
									"type": "origins:execute_command",
									"command": "/data modify entity @e[type=fox,nbt={Sleeping:1b,NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..1,limit=1] Sleeping set value 0"
								},
								{
									"type": "origins:execute_command",
									"command": "/data modify entity @e[type=fox,nbt={Sleeping:0b,NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..1,limit=1] Sitting set value 1"
								}
							]
						},
						"else_action": {
							"type": "origins:and",
							"actions": [
								{
									"type": "origins:execute_command",
									"command": "/data modify entity @e[type=fox,nbt={Sleeping:0b,NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..1,limit=1] Sleeping set value 1"
								},
								{
									"type": "origins:execute_command",
									"command": "/data modify entity @e[type=fox,nbt={Sleeping:1b,NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..1,limit=1] Sitting set value 0"
								}
							]
						}
					}
				},
				{
					"condition": {
						"type": "origins:and",
						"conditions": [
							{
								"type": "origins:resource",
								"resource": "*:*_afk_timer",
								"compare_to": 0,
								"comparison": ">"
							},
							{
								"type": "origins:riding",
								"inverted": true
							}
						]
					},
					"action": {
						"type": "origins:raycast",
						"distance": 3,
						"bientity_action": {
							"type": "origins:if_else",
							"condition": {
								"type": "origins:target_condition",
								"condition": {
									"type": "origins:entity_type",
									"entity_type": "fox"
								}
							},
							"if_action": {
								"type": "origins:if_else",
								"condition": {
									"type": "origins:target_condition",
									"condition": {
										"type": "origins:command",
										"command": "/data get entity @s NoAI",
										"compare_to": 0,
										"comparison": "=="
									}
								},
								"if_action": {
									"type": "origins:and",
									"actions": [
										{
											"type": "origins:target_action",
											"action": {
												"type": "origins:grant_power",
												"power": "thorigins:fox/thforce_sit",
												"source": "thorigins:universal"
											}
										},
										{
											"type": "origins:target_action",
											"action": {
												"type": "origins:execute_command",
												"command": "/data merge entity @s {Sitting:1b,NoAI:1b}"
											}
										}
									]
								},
								"else_action": {
									"type": "origins:and",
									"actions": [
										{
											"type": "origins:target_action",
											"action": {
												"type": "origins:execute_command",
												"command": "/data merge entity @s {Sitting:0b,NoAI:0b}"
											}
										},
										{
											"type": "origins:target_action",
											"action": {
												"type": "origins:revoke_power",
												"power": "thorigins:fox/thforce_sit",
												"source": "thorigins:universal"
											}
										}
									]
								}
							},
							"else_action": {
								"type": "origins:if_else",
								"condition": {
									"type": "origins:target_condition",
									"condition": {
										"type": "origins:in_tag",
										"tag": "thorigins:ridable"
									}
								},
								"if_action": {
									"type": "origins:and",
									"actions": [
										{
											"type": "origins:target_action",
											"action": {
												"type": "origins:execute_command",
												"command": "/tag @s add to_be_ridden"
											}
										},
										{
											"type": "origins:actor_action",
											"action": {
												"type": "origins:area_of_effect",
												"radius": 5,
												"bientity_condition": {
													"type": "origins:target_condition",
													"condition": {
														"type": "origins:nbt",
														"nbt": "{\"Tags\":[\"to_be_ridden\"]}"
													}
												},
												"bientity_action": {
													"type": "origins:and",
													"actions": [
														{
															"type": "origins:mount"
														},
														{
															"type": "origins:target_action",
															"action": {
																"type": "origins:execute_command",
																"command": "/tag @s remove to_be_ridden"
															}
														},
														{
															"type": "origins:actor_action",
															"action": {
																"type": "origins:change_resource",
																"resource": "*:*_riding_player",
																"change": 1
															}
														}
													]
												}
											}
										}
									]
								}
							}
						}
					}
				}
			]
		}
	},

	"active_self_soh": {
		"type": "origins:active_self",
		"key": "key.swapOffhand",
		"cooldown": 1,
		"entity_action": {
			"type": "origins:if_else",
			"condition": {
				"type": "origins:resource",
				"resource": "*:*_afk_timer",
				"compare_to": 0,
				"comparison": "=="
			},
			"if_action": {
				"type": "origins:if_else",
				"condition": {
					"type": "origins:riding"
				},
				"if_action": {
					"type": "origins:change_resource",
					"resource": "*:*_afk_timer",
					"change": 1200,
					"operation": "set"
				},
				"else_action": {
					"type": "origins:toggle",
					"power": "*:*_hiding_fox"
				}
			}
		}
	},

	"force_unride": {
		"type": "origins:active_self",
		"key": "key.sneak",
		"entity_action": {
			"type": "origins:dismount"
		}
	},

	"fox_interactions": {
		"type": "origins:action_on_entity_use",
		"bientity_action": {
			"type": "origins:if_else",
			"condition": {
				"type": "origins:actor_condition",
				"condition": {
					"type": "origins:sneaking"
				}
			},
			"if_action": {
				"type": "origins:if_else",
				"condition": {
					"type": "origins:target_condition",
					"condition": {
						"type": "origins:and",
						"conditions": [
							{
								"type": "origins:nbt",
								"nbt": "{\"Tags\":[\"sleepin\"]}",
								"inverted": true
							},
							{
								"type": "origins:riding",
								"inverted": true
							}
						]
					}
				},
				"if_action": {
					"type": "origins:and",
					"actions": [
						{
							"type": "origins:actor_action",
							"action": {
								"type": "origins:change_resource",
								"resource": "*:*_ride_status",
								"change": 1,
								"operation": "set"
							}
						},
						{
							"type": "origins:actor_action",
							"action": {
								"type": "origins:change_resource",
								"resource": "*:*_perspective_check",
								"change": 0,
								"operation": "set"
							}
						},
						{
							"type": "origins:target_action",
							"action": {
								"type": "origins:execute_command",
								"command": "/summon armor_stand ~ ~ ~ {Invisible:1b,Invulnerable:1b,NoGravity:1b,Silent:1b,Tags:[\"mount_point\"]}"
							}
						},
						{
							"type": "origins:target_action",
							"action": {
								"type": "origins:execute_command",
								"command": "/power grant @e[type=armor_stand,limit=1,sort=nearest,tag=mount_point] thorigins:fox/seat thorigins:universal"
							}
						},
						{
							"type": "origins:delay",
							"ticks": 1,
							"action": {
								"type": "origins:target_action",
								"action": {
									"type": "origins:area_of_effect",
									"radius": 5,
									"bientity_condition": {
										"type": "origins:target_condition",
										"condition": {
											"type": "origins:and",
											"conditions": [
												{
													"type": "origins:entity_type",
													"entity_type": "minecraft:armor_stand"
												},
												{
													"type": "origins:nbt",
													"nbt": "{\"Tags\":[\"mount_point\"]}"
												}
											]
										}
									},
									"bientity_action": {
										"type": "origins:and",
										"actions": [
											{
												"type": "origins:mount"
											},
											{
												"type": "origins:target_action",
												"action": {
													"type": "origins:and",
													"actions": [
														{
															"type": "origins:execute_command",
															"command": "/tag @s remove mount_point"
														},
														{
															"type": "origins:execute_command",
															"command": "/tag @s add mount_point_setted"
														}
													]
												}
											},
											{
												"type": "origins:actor_action",
												"action": {
													"type": "origins:and",
													"actions": [
														{
															"type": "origins:execute_command",
															"command": "/tag @s add hatting"
														},
														{
															"type": "origins:execute_command",
															"command": "/power grant @s thorigins:fox/thhat thorigins:universal"
														},
														{
															"type": "origins:execute_command",
															"command": "/scale easing set pehkui:hitbox_height pehkui:exponential_out @s"
														},
														{
															"type": "origins:execute_command",
															"command": "/scale easing set pehkui:hitbox_width pehkui:exponential_out @s"
														},
														{
															"type": "origins:execute_command",
															"command": "/scale easing set pehkui:model_height pehkui:exponential_out @s"
														},
														{
															"type": "origins:execute_command",
															"command": "/scale easing set pehkui:model_width pehkui:exponential_out @s"
														},
														{
															"type": "origins:execute_command",
															"command": "/data merge entity @s {NoAI:1b}"
														},
														{
															"type": "origins:execute_command",
															"command": "/data modify entity @s Sitting set value 1"
														},
														{
															"type": "origins:execute_command",
															"command": "/scale multiply pehkui:hitbox_height 0.1 @s"
														},
														{
															"type": "origins:execute_command",
															"command": "/scale multiply pehkui:hitbox_width 0.7 @s"
														},
														{
															"type": "origins:execute_command",
															"command": "/scale multiply pehkui:model_height 0.7 @s"
														},
														{
															"type": "origins:execute_command",
															"command": "/scale multiply pehkui:model_width 0.7 @s"
														}
													]
												}
											}
										]
									}
								}
							}
						},
						{
							"type": "origins:delay",
							"ticks": 2,
							"action": {
								"type": "origins:actor_action",
								"action": {
									"type": "origins:area_of_effect",
									"radius": 5,
									"bientity_condition": {
										"type": "origins:target_condition",
										"condition": {
											"type": "origins:and",
											"conditions": [
												{
													"type": "origins:entity_type",
													"entity_type": "minecraft:armor_stand"
												},
												{
													"type": "origins:nbt",
													"nbt": "{\"Tags\":[\"mount_point_setted\"]}"
												}
											]
										}
									},
									"bientity_action": {
										"type": "origins:and",
										"actions": [
											{
												"type": "origins:invert",
												"action": {
													"type": "origins:mount"
												}
											},
											{
												"type": "origins:target_action",
												"action": {
													"type": "origins:and",
													"actions": [
														{
															"type": "origins:execute_command",
															"command": "/tag @s remove mount_point_setted"
														},
														{
															"type": "origins:execute_command",
															"command": "/tag @s add mounted"
														}
													]
												}
											}
										]
									}
								}
							}
						}
					]
				}
			},
			"else_action": {
				"type": "origins:if_else",
				"condition": {
					"type": "origins:target_condition",
					"condition": {
						"type": "origins:equipped_item",
						"equipment_slot": "mainhand",
						"item_condition": {
							"type": "origins:empty",
							"inverted": true
						}
					}
				},
				"if_action": {
					"type": "origins:target_action",
					"action": {
						"type": "origins:drop_inventory",
						"slot": "weapon.mainhand",
						"inventory_type": "inventory"
					}
				}
			}
		},
		"hands": ["main_hand"],
		"item_condition": {
			"type": "origins:empty"
		},
		"bientity_condition": {
			"type": "origins:and",
			"conditions": [
				{
					"type": "origins:target_condition",
					"condition": {
						"type": "origins:and",
						"conditions": [
							{
								"type": "origins:entity_type",
								"entity_type": "minecraft:fox"
							},
							{
								"type": "origins:power",
								"power": "thorigins:fox/thsleepin_fox",
								"inverted": true
							},
							{
								"type": "origins:power",
								"power": "thorigins:fox/thhat",
								"inverted": true
							}
						]
					}
				},
				{
					"type": "origins:actor_condition",
					"condition": {
						"type": "origins:passenger",
						"compare_to": 0,
						"comparison": "=="
					}
				}
			]
		}
	},

	"hide_fox": {
		"type": "origins:prevent_entity_render",
		"condition": {
			"type": "origins:or",
			"conditions": [
				{
					"type": "origins:and",
					"conditions": [
						{
							"type": "origins:power_active",
							"power": "*:*_hiding_fox"
						},
						{
							"type": "origins:resource",
							"resource": "*:*_afk_timer",
							"compare_to": 1,
							"comparison": "<="
						}
					]
				},
				{
					"type": "origins:and",
					"conditions": [
						{
							"type": "origins:resource",
							"resource": "*:*_perspective_check",
							"compare_to": 0,
							"comparison": "=="
						},
						{
							"type": "origins:passenger",
							"compare_to": 0,
							"comparison": ">"
						},
						{
							"type": "origins:resource",
							"resource": "*:*_afk_timer",
							"compare_to": 0,
							"comparison": "=="
						}
					]
				}
			]
		},

		"entity_condition": {
			"type": "origins:and",
			"conditions": [
				{
					"type": "origins:entity_type",
					"entity_type": "fox"
				},
				{
					"type": "origins:or",
					"conditions": [
						{
							"type": "origins:power",
							"power": "thorigins:fox/thsleepin_fox",
							"source": "thorigins:universal"
						},
						{
							"type": "origins:power",
							"power": "thorigins:fox/thhat",
							"source": "thorigins:universal"
						}
					]
				}
			]
		},
		"bientity_condition": {
			"type": "origins:distance",
			"compare_to": 1.5,
			"comparison": "<="
		}
	},

	"death_release_fox": {
		"type": "origins:self_action_when_hit",
		"cooldown": 0,
		"entity_action": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:change_resource",
					"resource": "*:*_ride_status",
					"change": 0,
					"operation": "set"
				},
				{
					"type": "origins:passenger_action",
					"action": {
						"type": "origins:dismount"
					}
				}
			]
		},
		"condition": {
			"type": "origins:nbt",
			"nbt": "{Health:0.0f}"
		}
	},

	"riding_player": {
		"type": "origins:resource",
		"min": 0,
		"max": 1,
		"start_value": 0,
		"min_action": {
			"type": "origins:delay",
			"ticks": 1,
			"action": {
				"type": "origins:and",
				"actions": [
					{
						"type": "origins:execute_command",
						"command": "/scale reset pehkui:hitbox_height @s"
					},
					{
						"type": "origins:execute_command",
						"command": "/scale set pehkui:height 0 @e[type=armor_stand,limit=1,sort=nearest,tag=mounted,distance=..2]"
					}
				]
			}
		},
		"max_action": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:execute_command",
					"command": "/scale multiply pehkui:hitbox_height 0.6 @s"
				},
				{
					"type": "origins:execute_command",
					"command": "/scale delay set pehkui:hitbox_height 0 @s"
				},
				{
					"type": "origins:execute_command",
					"command": "/scale set pehkui:height 0.2 @e[type=armor_stand,limit=1,sort=nearest,tag=mounted,distance=..2]"
				}
			]
		}
	},

	"prevent_hit_by_your_hos": {
		"type": "origins:invulnerability",
		"damage_condition": {
			"type": "origins:attacker",
			"entity_condition": {
				"type": "origins:passenger",
				"bientity_condition": {
					"type": "origins:riding_recursive"
				}
			}
		}
	}
}
