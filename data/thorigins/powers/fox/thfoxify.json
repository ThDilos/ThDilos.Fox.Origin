{
	"type": "origins:multiple",
	"name": { "translate": "fox.thfoxify.name" },
	"description": { "translate": "fox.thfoxify.description" },
	"badges": [
		{
			"type": "origins:tooltip",
			"sprite": "origins:textures/gui/badge/active.png",
			"text": [
				{
					"translate": "thorigins.active_ability"
				},
				{
					"translate": "thfoxify.key0",
					"with": [
						{
							"keybind": "key.sprint",
							"color": "aqua"
						},
						{
							"keybind": "key.sprint",
							"color": "aqua"
						},
						{
							"keybind": "key.forward",
							"color": "dark_gray"
						}
					]
				},
				{
					"translate": "thfoxify.key1",
					"with": [
						{
							"keybind": "key.use",
							"color": "aqua"
						},
						{
							"keybind": "key.drop",
							"color": "aqua"
						}
					]
				},
				{
					"translate": "thfoxify.key2",
					"with": [
						{
							"keybind": "key.use",
							"color": "aqua"
						},
						{
							"keybind": "key.saveToolbarActivator",
							"color": "aqua"
						}
					]
				},
				{
					"translate": "thfoxify.key3",
					"with": [
						{
							"keybind": "key.saveToolbarActivator",
							"color": "aqua"
						}
					]
				}
			]
		},
		{
			"type": "origins:tooltip",
			"sprite": "origins:textures/gui/badge/info.png",
			"text": [
				{
					"translate": "thfoxify.info0"
				},
				{
					"translate": "thfoxify.info1",
					"with": [
						{
							"keybind": "key.sprint",
							"color": "aqua"
						}
					]
				},
				{
					"translate": "thfoxify.info2",
					"with": [
						{
							"keybind": "key.swapOffhand",
							"color": "aqua"
						}
					]
				},
				{
					"translate": "thfoxify.info3",
					"with": [
						{
							"keybind": "key.saveToolbarActivator",
							"color": "aqua"
						}
					]
				},
				{
					"translate": "thfoxify.info4"
				}
			]
		},
		{
			"type": "origins:tooltip",
			"sprite": "origins:textures/gui/badge/arrow_up.png",
			"text": [
				{
					"translate": "thfoxify.keybind.info",
					"with": [
						{
							"keybind": "key.sprint",
							"color": "aqua"
						},
						{
							"keybind": "key.drop",
							"color": "aqua"
						},
						{
							"keybind": "key.use",
							"color": "aqua"
						},
						{
							"keybind": "key.saveToolbarActivator",
							"color": "aqua"
						},
						{
							"keybind": "key.swapOffhand",
							"color": "aqua"
						}
					]
				}
			]
		}
	],

	"ticks": {
		"type": "origins:action_over_time",
		"interval": 1,
		"entity_action": [
			{
				"type": "origins:if_else",
				"condition": {
					"type": "origins:any_of",
					"conditions": [
						{
							"type": "origins:all_of",
							"conditions": [
								{
									"type": "origins:riding",
									"inverted": true
								},
								{
									"type": "origins:moving"
								}
							]
						},
						{
							"type": "origins:resource",
							"resource": "*:fox/universal_settings_enable_sleepin_mode",
							"compare_to": 0,
							"comparison": "=="
						},
						{
							"type": "origins:scoreboard",
							"objective": "foxtype",
							"compare_to": 0,
							"comparison": "<"
						},
						{
							"type": "origins:all_of",
							"conditions": [
								{
									"type": "origins:fall_distance",
									"compare_to": 0,
									"comparison": ">"
								},
								{
									"type": "origins:nbt",
									"nbt": "{SleepTimer:0s}"
								}
							]
						},
						{
							"type": "origins:using_item",
							"item_condition": {
								"type": "origins:food",
								"inverted": true
							}
						},
						{
							"type": "origins:gamemode",
							"gamemode": "spectator"
						},
						{
							"type": "origins:creative_flying"
						},
						{
							"type": "origins:all_of",
							"conditions": [
								{
									"type": "origins:resource",
									"resource": "*:*_afk_timer",
									"compare_to": 0,
									"comparison": "=="
								},
								{
									"type": "origins:command",
									"command": "/execute if entity @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,distance=..1,limit=1]",
									"compare_to": 0,
									"comparison": "=="
								},
								{
									"type": "origins:resource",
									"resource": "*:*_figura_state",
									"compare_to": 0,
									"comparison": "=="
								}
							]
						}
					]
				},
				"if_action": {
					"type": "origins:change_resource",
					"resource": "*:*_afk_timer",
					"change": 1200,
					"operation": "set"
				}
			}
		]
	},

	"ticks_20": {
		"type": "origins:action_over_time",
		"interval": 20,
		"entity_action": [
			{
				"type": "origins:if_else",
				"condition": {
					"type": "origins:resource",
					"resource": "*:*_afk_timer",
					"compare_to": 0,
					"comparison": "=="
				},
				"if_action": [
					{
						"type": "origins:if_else",
						"condition": {
							"type": "origins:all_of",
							"conditions": [
								{
									"type": "origins:scoreboard",
									"objective": "foxtype",
									"compare_to": 0,
									"comparison": ">="
								},
								{
									"type": "origins:scoreboard",
									"objective": "foxtype",
									"compare_to": 3,
									"comparison": "<="
								}
							]
						},
						"if_action": {
							"type": "origins:if_else",
							"condition": {
								"type": "origins:equipped_item",
								"equipment_slot": "mainhand",
								"item_condition": {
									"type": "origins:empty"
								}
							},
							"if_action": {
								"type": "origins:execute_command",
								"command": "/data remove entity @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..0.2,limit=1] HandItems[0]"
							},
							"else_action": {
								"type": "origins:execute_command",
								"command": "/data modify entity @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..0.2,limit=1] HandItems[0] set from entity @s SelectedItem"
							}
						}
					},
					{
						"type": "origins:if_else",
						"condition": {
							"type": "origins:all_of",
							"conditions": [
								{
									"type": "origins:command",
									"command": "/data get entity @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..0.2,limit=1] Age",
									"compare_to": -20,
									"comparison": ">"
								},
								{
									"type": "origins:any_of",
									"conditions": [
										{
											"type": "origins:scoreboard",
											"objective": "foxtype",
											"compare_to": 2,
											"comparison": "=="
										},
										{
											"type": "origins:scoreboard",
											"objective": "foxtype",
											"compare_to": 3,
											"comparison": "=="
										}
									]
								}
							]
						},
						"if_action": {
							"type": "origins:execute_command",
							"command": "/data modify entity @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..0.2,limit=1] Age set value -6000"
						}
					},
					{
						"type": "origins:if_else",
						"condition": {
							"type": "origins:all_of",
							"conditions": [
								{
									"type": "origins:command",
									"command": "/data get entity @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..0.2,limit=1] Age",
									"compare_to": 0,
									"comparison": "<"
								},
								{
									"type": "origins:any_of",
									"conditions": [
										{
											"type": "origins:scoreboard",
											"objective": "foxtype",
											"compare_to": 0,
											"comparison": "=="
										},
										{
											"type": "origins:scoreboard",
											"objective": "foxtype",
											"compare_to": 1,
											"comparison": "=="
										}
									]
								}
							]
						},
						"if_action": {
							"type": "origins:execute_command",
							"command": "/data modify entity @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..0.2,limit=1] Age set value 0"
						}
					},
					{
						"type": "origins:if_else",
						"condition": {
							"type": "origins:all_of",
							"conditions": [
								{
									"type": "origins:any_of",
									"conditions": [
										{
											"type": "origins:scoreboard",
											"objective": "foxtype",
											"compare_to": 0,
											"comparison": "=="
										},
										{
											"type": "origins:scoreboard",
											"objective": "foxtype",
											"compare_to": 2,
											"comparison": "=="
										}
									]
								},
								{
									"type": "origins:command",
									"command": "/execute if entity @e[type=fox,nbt={NoAI:1b,NoGravity:1b,Type:red},tag=sleepin,sort=nearest,distance=..0.2,limit=1]",
									"compare_to": 0,
									"comparison": "=="
								}
							]
						},
						"if_action": {
							"type": "origins:execute_command",
							"command": "/data modify entity @e[type=fox,nbt={NoAI:1b,NoGravity:1b,Type:snow},tag=sleepin,sort=nearest,distance=..0.2,limit=1] Type set value red"
						}
					},
					{
						"type": "origins:if_else",
						"condition": {
							"type": "origins:all_of",
							"conditions": [
								{
									"type": "origins:any_of",
									"conditions": [
										{
											"type": "origins:scoreboard",
											"objective": "foxtype",
											"compare_to": 1,
											"comparison": "=="
										},
										{
											"type": "origins:scoreboard",
											"objective": "foxtype",
											"compare_to": 3,
											"comparison": "=="
										}
									]
								},
								{
									"type": "origins:command",
									"command": "/execute if entity @e[type=fox,nbt={NoAI:1b,NoGravity:1b,Type:snow},tag=sleepin,sort=nearest,distance=..0.2,limit=1]",
									"compare_to": 0,
									"comparison": "=="
								}
							]
						},
						"if_action": {
							"type": "origins:execute_command",
							"command": "/data modify entity @e[type=fox,nbt={NoAI:1b,NoGravity:1b,Type:red},tag=sleepin,sort=nearest,distance=..0.2,limit=1] Type set value snow"
						}
					},
					{
						"type": "origins:if_else",
						"condition": {
							"type": "origins:all_of",
							"conditions": [
								{
									"type": "origins:resource",
									"resource": "*:*_figura_state",
									"compare_to": 1,
									"comparison": "=="
								},
								{
									"type": "origins:command",
									"command": "/execute if entity @e[type=fox,nbt={NoAI:1b},tag=sleepin,distance=..0.2,limit=1]",
									"compare_to": 0,
									"comparison": ">"
								}
							]
						},
						"if_action": {
							"type": "origins:change_resource",
							"resource": "*:*_afk_timer",
							"change": 1200
						}
					}
				]
			},
			{
				"type": "origins:if_else",
				"condition": {
					"type": "origins:all_of",
					"conditions": [
						{
							"type": "origins:scoreboard",
							"objective": "foxtype",
							"compare_to": 0,
							"comparison": ">="
						},
						{
							"type": "origins:scoreboard",
							"objective": "foxtype",
							"compare_to": 3,
							"comparison": "<="
						}
					]
				},
				"if_action": {
					"type": "origins:change_resource",
					"resource": "*:*_figura_state",
					"change": -1
				},
				"else_action": {
					"type": "origins:change_resource",
					"resource": "*:*_figura_state",
					"change": 1
				}
			},
			{
				"type": "origins:execute_command",
				"command": "/execute as @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin] at @s run execute unless entity @p[distance=..1] run kill @s"
			},
			{
				"type": "origins:if_else",
				"condition": {
					"type": "origins:resource",
					"resource": "*:*_afk_timer",
					"compare_to": 0,
					"comparison": ">"
				},
				"if_action": {
					"type": "origins:change_resource",
					"resource": "*:*_afk_timer",
					"change": -20
				}
			},
			{
				"type": "origins:if_else",
				"condition": {
					"type": "origins:riding",
					"bientity_condition": {
						"type": "origins:target_condition",
						"condition": {
							"type": "origins:entity_type",
							"entity_type": "minecraft:player"
						}
					}
				},
				"if_action": {
					"type": "origins:change_resource",
					"resource": "*:*_riding_player",
					"change": 1
				},
				"else_action": {
					"type": "origins:change_resource",
					"resource": "*:*_riding_player",
					"change": -1
				}
			}
		]
	},

	"perspective_check": {
		"type": "origins:resource",
		"min": 0,
		"max": 3,
		"start_value": 0,
		"max_action": {
			"type": "origins:change_resource",
			"resource": "*:*_perspective_check",
			"change": 0,
			"operation": "set"
		}
	},

	"perspective_change": {
		"type": "origins:active_self",
		"key": "key.togglePerspective",
		"cooldown": 1,
		"entity_action": {
			"type": "origins:change_resource",
			"resource": "*:*_perspective_check",
			"change": 1
		}
	},

	"afk_timer": {
		"type": "origins:resource",
		"min": 0,
		"max": 1200,
		"min_action": [
			{
				"type": "origins:if_else_list",
				"actions": [
					{
						"condition": {
							"type": "origins:scoreboard",
							"objective": "foxtype",
							"compare_to": 0,
							"comparison": "=="
						},
						"action": {
							"type": "origins:execute_command",
							"command": "/summon fox ~ ~0.05 ~ {Type:red,Sleeping:1,NoGravity:1b,NoAI:1b,Tags:[\"sleepin\"],CanPickUpLoot:0b,HandDropChances:[0f]}"
						}
					},
					{
						"condition": {
							"type": "origins:scoreboard",
							"objective": "foxtype",
							"compare_to": 1,
							"comparison": "=="
						},
						"action": {
							"type": "origins:execute_command",
							"command": "/summon fox ~ ~0.05 ~ {Type:snow,Sleeping:1,NoGravity:1b,NoAI:1b,Tags:[\"sleepin\"],CanPickUpLoot:0b,HandDropChances:[0f]}"
						}
					},
					{
						"condition": {
							"type": "origins:scoreboard",
							"objective": "foxtype",
							"compare_to": 2,
							"comparison": "=="
						},
						"action": {
							"type": "origins:execute_command",
							"command": "/summon fox ~ ~0.05 ~ {Type:red,Sleeping:1,NoGravity:1b,NoAI:1b,Tags:[\"sleepin\"],Age:-6000,CanPickUpLoot:0b,HandDropChances:[0f]}"
						}
					},
					{
						"condition": {
							"type": "origins:scoreboard",
							"objective": "foxtype",
							"compare_to": 3,
							"comparison": "=="
						},
						"action": {
							"type": "origins:execute_command",
							"command": "/summon fox ~ ~0.05 ~ {Type:snow,Sleeping:1,NoGravity:1b,NoAI:1b,Tags:[\"sleepin\"],Age:-6000,CanPickUpLoot:0b,HandDropChances:[0f]}"
						}
					}
				]
			},
			{
				"type": "origins:area_of_effect",
				"radius": 1,
				"shape": "cube",
				"bientity_condition": {
					"type": "origins:target_condition",
					"condition": {
						"type": "origins:all_of",
						"conditions": [
							{
								"type": "origins:entity_type",
								"entity_type": "minecraft:fox"
							},
							{
								"type": "origins:nbt",
								"nbt": "{NoGravity:1b,NoAI:1b,Tags:[\"sleepin\"],CanPickUpLoot:0b}"
							}
						]
					}
				},
				"bientity_action": {
					"type": "origins:target_action",
					"action": {
						"type": "origins:grant_power",
						"power": "*:fox/thsleepin_fox",
						"source": "thorigins:temp"
					}
				}
			},
			{
				"type": "origins:if_else",
				"condition": {
					"type": "origins:all_of",
					"conditions": [
						{
							"type": "origins:scoreboard",
							"objective": "foxtype",
							"compare_to": 3,
							"comparison": "<="
						},
						{
							"type": "origins:riding"
						}
					]
				},
				"if_action": [
					{
						"type": "origins:riding_action",
						"action": {
							"type": "origins:execute_command",
							"command": "/tag @s add to_be_ridden"
						}
					},
					{
						"type": "origins:dismount"
					},
					{
						"type": "origins:area_of_effect",
						"radius": 5,
						"bientity_condition": {
							"type": "origins:target_condition",
							"condition": {
								"type": "origins:all_of",
								"conditions": [
									{
										"type": "origins:entity_type",
										"entity_type": "minecraft:fox"
									},
									{
										"type": "origins:nbt",
										"nbt": "{\"Tags\":[\"sleepin\"]}"
									}
								]
							}
						},
						"bientity_action": [
							{
								"type": "origins:target_action",
								"action": {
									"type": "origins:area_of_effect",
									"radius": 5,
									"bientity_condition": {
										"type": "origins:target_condition",
										"condition": {
											"type": "origins:nbt",
											"nbt": "{\"Tags\":[\"to_be_ridden\"]}"
										}
									},
									"bientity_action": [
										{
											"type": "origins:mount"
										},
										{
											"type": "origins:target_action",
											"action": {
												"type": "origins:execute_command",
												"command": "/tag @s remove to_be_ridden"
											}
										}
									]
								}
							},
							{
								"type": "origins:mount"
							}
						]
					}
				]
			},
			{
				"type": "origins:if_else",
				"condition": {
					"type": "origins:resource",
					"resource": "*:*_figura_state",
					"compare_to": 0,
					"comparison": "=="
				},
				"if_action": [
					{
						"type": "origins:if_else",
						"condition": {
							"type": "origins:health",
							"compare_to": 0,
							"comparison": ">"
						},
						"if_action": {
							"type": "origins:change_resource",
							"resource": "*:*_sleepin_mode_status",
							"change": 1
						}
					},
					{
						"type": "origins:delay",
						"ticks": 1,
						"action": [
							{
								"type": "origins:if_else",
								"condition": {
									"type": "origins:riding"
								},
								"if_action": [
									{
										"type": "origins:execute_command",
										"command": "/scale delay set pehkui:hitbox_height 1 @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..1,limit=1]"
									},
									{
										"type": "origins:execute_command",
										"command": "/scale multiply pehkui:hitbox_height 0.1 @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..1,limit=1]"
									}
								],
								"else_action": {
									"type": "origins:execute_command",
									"command": "/scale multiply pehkui:hitbox_height 0.5 @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..1,limit=1]"
								}
							},
							{
								"type": "origins:execute_command",
								"command": "/scale multiply pehkui:hitbox_width 0.5 @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..1,limit=1]"
							},
							{
								"type": "origins:execute_command",
								"command": "/tp @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,distance=..1,limit=1] ~ ~ ~ facing ^-0.3 ^ ^-0.15"
							}
						]
					}
				]
			},
			{
				"type": "origins:delay",
				"ticks": 1,
				"action": {
					"type": "origins:if_else",
					"condition": {
						"type": "origins:command",
						"command": "/data get entity @s SleepTimer",
						"compare_to": 0,
						"comparison": ">"
					},
					"if_action": {
						"type": "origins:execute_command",
						"command": "/tp @e[type=fox,nbt={NoAI:1b,NoGravity:1b},sort=nearest,tag=sleepin,distance=..0.2,limit=1] ~ ~-0.15 ~"
					},
					"else_action": {
						"type": "origins:execute_command",
						"command": "/tp @e[type=fox,nbt={NoAI:1b,NoGravity:1b},sort=nearest,tag=sleepin,distance=..0.2,limit=1] ~ ~-0.025 ~"
					}
				}
			}
		],
		"max_action": {
			"type": "origins:if_else",
			"condition": {
				"type": "origins:resource",
				"resource": "*:*_sleepin_mode_status",
				"compare_to": 1,
				"comparison": "=="
			},
			"if_action": {
				"type": "origins:change_resource",
				"resource": "*:*_sleepin_mode_status",
				"change": -1
			}
		}
	},

	"afk_invis": {
		"type": "origins:invisibility",
		"render_armor": false,
		"render_outline": false,
		"condition": {
			"type": "origins:all_of",
			"conditions": [
				{
					"type": "origins:resource",
					"resource": "*:*_figura_state",
					"compare_to": 0,
					"comparison": "=="
				},
				{
					"type": "origins:resource",
					"resource": "*:*_afk_timer",
					"compare_to": 0,
					"comparison": "=="
				}
			]
		}
	},

	"in_wall_check": {
		"type": "origins:cooldown",
		"cooldown": 10
	},

	"smothering_protection": {
		"type": "origins:invulnerability",
		"damage_condition": {
			"type": "origins:name",
			"name": "inWall"
		},
		"condition": {
			"type": "origins:any_of",
			"conditions": [
				{
					"type": "origins:resource",
					"resource": "*:*_in_wall_check",
					"compare_to": 0,
					"comparison": ">"
				},
				{
					"type": "origins:resource",
					"resource": "*:*_afk_timer",
					"compare_to": 0,
					"comparison": "=="
				}
			]
		}
	},

	"sleepin_mode_status": {
		"type": "origins:resource",
		"min": 0,
		"max": 1,
		"min_action": [
			{
				"type": "origins:execute_command",
				"command": "/scale divide pehkui:third_person 1.5 @s"
			},
			{
				"type": "origins:execute_command",
				"command": "/scale reset pehkui:hitbox_height @s"
			},
			{
				"type": "origins:execute_command",
				"command": "/scale delay set pehkui:hitbox_height 0 @s"
			},
			{
				"type": "origins:if_else",
				"condition": {
					"type": "origins:riding",
					"bientity_condition": {
						"type": "origins:target_condition",
						"condition": {
							"type": "origins:entity_type",
							"entity_type": "minecraft:player"
						}
					}
				},
				"if_action": {
					"type": "origins:execute_command",
					"command": "/scale multiply pehkui:hitbox_height 0.6 @s"
				}
			},
			{
				"type": "origins:if_else",
				"condition": {
					"type": "origins:power_active",
					"power": "*:*_hiding_fox"
				},
				"if_action": {
					"type": "origins:toggle",
					"power": "*:*_hiding_fox"
				}
			},
			{
				"type": "origins:trigger_cooldown",
				"power": "*:*_in_wall_check"
			}
		],
		"max_action": [
			{
				"type": "origins:if_else",
				"condition": {
					"type": "origins:any_of",
					"conditions": [
						{
							"type": "origins:scoreboard",
							"objective": "foxtype",
							"compare_to": 2,
							"comparison": "=="
						},
						{
							"type": "origins:scoreboard",
							"objective": "foxtype",
							"compare_to": 3,
							"comparison": "=="
						}
					]
				},
				"if_action": {
					"type": "origins:execute_command",
					"command": "/scale multiply pehkui:hitbox_height 0.35 @s"
				},
				"else_action": {
					"type": "origins:execute_command",
					"command": "/scale multiply pehkui:hitbox_height 0.45 @s"
				}
			},
			{
				"type": "origins:execute_command",
				"command": "/scale multiply pehkui:third_person 1.5 @s"
			}
		]
	},

	"hit_mob_reset": {
		"type": "origins:action_on_hit",
		"condition": {
			"type": "origins:resource",
			"resource": "*:*_afk_timer",
			"compare_to": 0,
			"comparison": "=="
		},
		"bientity_action": {
			"type": "origins:actor_action",
			"action": {
				"type": "origins:change_resource",
				"resource": "*:*_afk_timer",
				"change": 1200,
				"operation": "set"
			}
		}
	},

	"got_hit_reset": {
		"type": "origins:action_when_damage_taken",
		"condition": {
			"type": "origins:resource",
			"resource": "*:*_afk_timer",
			"compare_to": 0,
			"comparison": "=="
		},
		"entity_action": {
			"type": "origins:change_resource",
			"resource": "*:*_afk_timer",
			"change": 1200,
			"operation": "set"
		},
		"cooldown": 1
	},

	"bed_eep": {
		"type": "origins:action_on_block_use",
		"block_condition": {
			"type": "origins:in_tag",
			"tag": "minecraft:beds"
		},
		"action_result": "pass",
		"entity_action": {
			"type": "origins:delay",
			"ticks": 1,
			"action": {
				"type": "origins:if_else",
				"condition": {
					"type": "origins:nbt",
					"nbt": "{SleepTimer:0s}",
					"inverted": true
				},
				"if_action": {
					"type": "origins:change_resource",
					"resource": "*:*_afk_timer",
					"change": -1200
				}
			}
		}
	},

	"wakeup_reset": {
		"type": "origins:action_on_wake_up",
		"entity_action": {
			"type": "origins:change_resource",
			"resource": "*:*_afk_timer",
			"change": 1200,
			"operation": "set"
		}
	},

	"figura_state": {
		"type": "origins:resource",
		"min": 0,
		"max": 1
	},

	"hiding_fox": {
		"type": "origins:toggle",
		"key": "nuh.uh",
		"active_by_default": false
	},

	"hide_fox": {
		"type": "origins:prevent_entity_render",
		"condition": {
			"type": "origins:all_of",
			"conditions": [
				{
					"type": "origins:resource",
					"resource": "*:*_afk_timer",
					"compare_to": 0,
					"comparison": "=="
				},
				{
					"type": "origins:any_of",
					"conditions": [
						{
							"type": "origins:power_active",
							"power": "*:*_hiding_fox"
						},
						{
							"type": "origins:all_of",
							"conditions": [
								{
									"type": "origins:resource",
									"resource": "*:*_perspective_check",
									"compare_to": 0,
									"comparison": "=="
								},
								{
									"type": "origins:passenger",
									"compare_to": 0,
									"comparison": ">"
								}
							]
						}
					]
				}
			]
		},
		"entity_condition": {
			"type": "origins:all_of",
			"conditions": [
				{
					"type": "origins:entity_type",
					"entity_type": "fox"
				},
				{
					"type": "origins:any_of",
					"conditions": [
						{
							"type": "origins:power",
							"power": "*:fox/thsleepin_fox"
						},
						{
							"type": "origins:power",
							"power": "*:fox/thhat"
						}
					]
				}
			]
		},
		"bientity_condition": {
			"type": "origins:distance",
			"compare_to": 1.5,
			"comparison": "<="
		}
	},

	"no_collide_fox": {
		"type": "origins:prevent_entity_collision",
		"bientity_condition": {
			"type": "origins:all_of",
			"conditions": [
				{
					"type": "origins:distance",
					"compare_to": 1,
					"comparison": "<="
				},
				{
					"type": "origins:target_condition",
					"condition": {
						"type": "origins:all_of",
						"conditions": [
							{
								"type": "origins:entity_type",
								"entity_type": "fox"
							},
							{
								"type": "origins:nbt",
								"nbt": "{NoAI:1b}"
							}
						]
					}
				}
			]
		}
	},

	"prevent_feed": {
		"type": "origins:prevent_entity_use",
		"bientity_condition": {
			"type": "origins:target_condition",
			"condition": {
				"type": "origins:all_of",
				"conditions": [
					{
						"type": "origins:entity_type",
						"entity_type": "fox"
					},
					{
						"type": "origins:nbt",
						"nbt": "{NoAI:1b,\"Tags\": [\"sleepin\"]}"
					}
				]
			}
		}
	},

	"active_self_sprint": {
		"type": "origins:active_self",
		"key": "key.sprint",
		"cooldown": 1,
		"entity_action": {
			"type": "origins:if_else",
			"condition": {
				"type": "origins:resource",
				"resource": "*:*_afk_timer",
				"compare_to": 0,
				"comparison": "=="
			},
			"if_action": {
				"type": "origins:execute_command",
				"command": "/tp @e[type=fox,nbt={NoAI:1b,NoGravity:1b},tag=sleepin,distance=..1,limit=1] ~ ~ ~ facing ^-0.3 ^ ^-0.15"
			},
			"else_action": {
				"type": "origins:if_else",
				"condition": {
					"type": "origins:all_of",
					"conditions": [
						{
							"type": "origins:resource",
							"resource": "*:fox/universal_settings_enable_sleepin_mode",
							"compare_to": 1,
							"comparison": "=="
						},
						{
							"type": "origins:scoreboard",
							"objective": "foxtype",
							"compare_to": 0,
							"comparison": ">="
						},
						{
							"type": "origins:any_of",
							"conditions": [
								{
									"type": "origins:riding"
								},
								{
									"type": "origins:moving",
									"inverted": true
								}
							]
						},
						{
							"type": "origins:resource",
							"resource": "*:*_afk_timer",
							"compare_to": 20,
							"comparison": ">"
						},
						{
							"type": "origins:any_of",
							"conditions": [
								{
									"type": "origins:riding"
								},
								{
									"type": "origins:sneaking"
								}
							]
						}
					]
				},
				"if_action": {
					"type": "origins:change_resource",
					"resource": "*:*_afk_timer",
					"change": 3,
					"operation": "set"
				}
			}
		}
	},

	"active_self_drop": {
		"type": "origins:active_self",
		"key": "key.drop",
		"cooldown": 1,
		"entity_action": {
			"type": "origins:if_else",
			"condition": {
				"type": "origins:all_of",
				"conditions": [
					{
						"type": "origins:equipped_item",
						"equipment_slot": "mainhand",
						"item_condition": {
							"type": "origins:empty"
						}
					},
					{
						"type": "origins:passenger",
						"bientity_condition": {
							"type": "origins:actor_condition",
							"condition": {
								"type": "origins:entity_type",
								"entity_type": "minecraft:fox"
							}
						}
					}
				]
			},
			"if_action": {
				"type": "origins:if_else",
				"condition": {
					"type": "origins:passenger",
					"bientity_condition": {
						"type": "origins:actor_condition",
						"condition": {
							"type": "origins:power",
							"power": "*:fox/thhat"
						}
					}
				},
				"if_action": {
					"type": "origins:passenger_action",
					"action": {
						"type": "origins:change_resource",
						"resource": "*:fox/thhat_safari",
						"change": -1
					}
				},
				"else_action": {
					"type": "origins:passenger_action",
					"action": {
						"type": "origins:dismount"
					}
				}
			}
		}
	},

	"active_self_sta": {
		"type": "origins:active_self",
		"key": "key.saveToolbarActivator",
		"cooldown": 1,
		"entity_action": {
			"type": "origins:if_else_list",
			"actions": [
				{
					"condition": {
						"type": "origins:all_of",
						"conditions": [
							{
								"type": "origins:resource",
								"resource": "*:*_figura_state",
								"compare_to": 0,
								"comparison": "=="
							},
							{
								"type": "origins:resource",
								"resource": "*:*_afk_timer",
								"compare_to": 1,
								"comparison": "<="
							}
						]
					},
					"action": {
						"type": "origins:if_else",
						"condition": {
							"type": "origins:command",
							"command": "/data get entity @e[type=fox,nbt={Sleeping:1b,NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..1,limit=1] Sleeping",
							"compare_to": 1,
							"comparison": "=="
						},
						"if_action": [
							{
								"type": "origins:execute_command",
								"command": "/data modify entity @e[type=fox,nbt={Sleeping:1b,NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..1,limit=1] Sleeping set value 0"
							},
							{
								"type": "origins:execute_command",
								"command": "/data modify entity @e[type=fox,nbt={Sleeping:0b,NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..1,limit=1] Sitting set value 1"
							},
							{
								"type": "origins:execute_command",
								"command": "/execute as @e[tag=hatting,type=fox,dy=20] run data merge entity @s {Sleeping:0b,Sitting:1b}"
							},
							{
								"type": "origins:if_else",
								"condition": {
									"type": "origins:scoreboard",
									"objective": "foxtype",
									"compare_to": 1,
									"comparison": "<="
								},
								"if_action": {
									"type": "origins:execute_command",
									"command": "/scale divide pehkui:hitbox_height 0.45 @s"
								},
								"else_action": {
									"type": "origins:execute_command",
									"command": "/scale divide pehkui:hitbox_height 0.55 @s"
								}
							},
							{
								"type": "origins:delay",
								"ticks": 1,
								"action": {
									"type": "origins:if_else",
									"condition": {
										"type": "origins:any_of",
										"conditions": [
											{
												"type": "origins:command",
												"command": "/scale compute pehkui:hitbox_height @s 0.714",
												"compare_to": 0,
												"comparison": ">"
											},
											{
												"type": "origins:command",
												"command": "/scale compute pehkui:hitbox_height @s 15",
												"compare_to": 0,
												"comparison": "=="
											}
										]
									},
									"if_action": {
										"type": "origins:change_resource",
										"resource": "*:*_afk_timer",
										"change": 1200
									}
								}
							}
						],
						"else_action": [
							{
								"type": "origins:execute_command",
								"command": "/data modify entity @e[type=fox,nbt={Sleeping:0b,NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..1,limit=1] Sleeping set value 1"
							},
							{
								"type": "origins:execute_command",
								"command": "/data modify entity @e[type=fox,nbt={Sleeping:1b,NoAI:1b,NoGravity:1b},tag=sleepin,sort=nearest,distance=..1,limit=1] Sitting set value 0"
							},
							{
								"type": "origins:execute_command",
								"command": "/execute as @e[tag=hatting,type=fox,dy=20] run data merge entity @s {Sleeping:1b,Sitting:0b}"
							},
							{
								"type": "origins:if_else",
								"condition": {
									"type": "origins:scoreboard",
									"objective": "foxtype",
									"compare_to": 1,
									"comparison": "<="
								},
								"if_action": {
									"type": "origins:execute_command",
									"command": "/scale multiply pehkui:hitbox_height 0.45 @s"
								},
								"else_action": {
									"type": "origins:execute_command",
									"command": "/scale multiply pehkui:hitbox_height 0.55 @s"
								}
							}
						]
					}
				},
				{
					"condition": {
						"type": "origins:all_of",
						"conditions": [
							{
								"type": "origins:resource",
								"resource": "*:*_afk_timer",
								"compare_to": 0,
								"comparison": ">"
							},
							{
								"type": "origins:riding",
								"inverted": true
							}
						]
					},
					"action": {
						"type": "origins:raycast",
						"distance": 3,
						"bientity_action": {
							"type": "origins:if_else",
							"condition": {
								"type": "origins:target_condition",
								"condition": {
									"type": "origins:entity_type",
									"entity_type": "fox"
								}
							},
							"if_action": {
								"type": "origins:if_else",
								"condition": {
									"type": "origins:target_condition",
									"condition": {
										"type": "origins:command",
										"command": "/data get entity @s NoAI",
										"compare_to": 0,
										"comparison": "=="
									}
								},
								"if_action": [
									{
										"type": "origins:target_action",
										"action": {
											"type": "origins:grant_power",
											"power": "*:fox/thforce_sit",
											"source": "thorigins:temp"
										}
									},
									{
										"type": "origins:target_action",
										"action": {
											"type": "origins:execute_command",
											"command": "/data merge entity @s {Sitting:1b,NoAI:1b}"
										}
									}
								],
								"else_action": [
									{
										"type": "origins:target_action",
										"action": {
											"type": "origins:execute_command",
											"command": "/data merge entity @s {Sitting:0b,NoAI:0b}"
										}
									},
									{
										"type": "origins:target_action",
										"action": {
											"type": "origins:revoke_power",
											"power": "*:fox/thforce_sit",
											"source": "thorigins:temp"
										}
									}
								]
							},
							"else_action": {
								"type": "origins:if_else",
								"condition": {
									"type": "origins:target_condition",
									"condition": {
										"type": "origins:in_tag",
										"tag": "thorigins:ridable"
									}
								},
								"if_action": [
									{
										"type": "origins:if_else",
										"condition": {
											"type": "origins:target_condition",
											"condition": {
												"type": "origins:entity_type",
												"entity_type": "minecraft:player"
											}
										},
										"if_action": {
											"type": "origins:actor_action",
											"action": {
												"type": "origins:change_resource",
												"resource": "*:*_riding_player",
												"change": 1
											}
										}
									},
									{
										"type": "origins:mount"
									}
								]
							}
						}
					}
				}
			]
		}
	},

	"riding_player": {
		"type": "origins:resource",
		"min": 0,
		"max": 1,
		"start_value": 0,
		"min_action": {
			"type": "origins:if_else",
			"condition": {
				"type": "origins:resource",
				"resource": "*:*_figura_state",
				"compare_to": 0,
				"comparison": "=="
			},
			"if_action": {
				"type": "origins:delay",
				"ticks": 3,
				"action": {
					"type": "origins:and",
					"actions": [
						{
							"type": "origins:execute_command",
							"command": "/scale reset pehkui:hitbox_height @s"
						},
						{
							"type": "origins:execute_command",
							"command": "/scale delay set pehkui:hitbox_height 0 @s"
						}
					]
				}
			}
		},
		"max_action": {
			"type": "origins:if_else",
			"condition": {
				"type": "origins:all_of",
				"conditions": [
					{
						"type": "origins:resource",
						"resource": "*:*_figura_state",
						"compare_to": 0,
						"comparison": "=="
					},
					{
						"type": "origins:riding",
						"bientity_condition": {
							"type": "origins:target_condition",
							"condition": {
								"type": "origins:entity_type",
								"entity_type": "player"
							}
						}
					}
				]
			},
			"if_action": {
				"type": "origins:execute_command",
				"command": "/scale multiply pehkui:hitbox_height 0.6 @s"
			}
		}
	},

	"active_self_soh": {
		"type": "origins:active_self",
		"key": "key.swapOffhand",
		"cooldown": 1,
		"entity_action": {
			"type": "origins:if_else",
			"condition": {
				"type": "origins:riding"
			},
			"if_action": {
				"type": "origins:change_resource",
				"resource": "*:*_afk_timer",
				"change": 1200,
				"operation": "set"
			},
			"else_action": {
				"type": "origins:toggle",
				"power": "*:*_hiding_fox"
			}
		},
		"condition": {
			"type": "origins:resource",
			"resource": "*:*_afk_timer",
			"compare_to": 0,
			"comparison": "=="
		}
	},

	"active_self_fwd": {
		"type": "origins:active_self",
		"key": {
			"key": "key.forward",
			"continuous": true
		},
		"entity_action": {
			"type": "origins:change_resource",
			"resource": "*:*_afk_timer",
			"change": 1200,
			"operation": "set"
		}
	},

	"force_unride": {
		"type": "origins:active_self",
		"key": "key.sneak",
		"entity_action": {
			"type": "origins:dismount"
		}
	},

	"fox_interactions": {
		"type": "origins:action_on_entity_use",
		"bientity_action": {
			"type": "origins:if_else",
			"condition": {
				"type": "origins:actor_condition",
				"condition": {
					"type": "origins:sneaking"
				}
			},
			"if_action": {
				"type": "origins:if_else",
				"condition": {
					"type": "origins:target_condition",
					"condition": {
						"type": "origins:all_of",
						"conditions": [
							{
								"type": "origins:nbt",
								"nbt": "{\"Tags\":[\"sleepin\"]}",
								"inverted": true
							},
							{
								"type": "origins:riding",
								"inverted": true
							}
						]
					}
				},
				"if_action": [
					{
						"type": "origins:actor_action",
						"action": {
							"type": "origins:change_resource",
							"resource": "*:*_perspective_check",
							"change": 0,
							"operation": "set"
						}
					},
					{
						"type": "origins:if_else",
						"condition": {
							"type": "origins:actor_condition",
							"condition": {
								"type": "origins:passenger",
								"compare_to": 0,
								"comparison": "=="
							}
						},
						"if_action": {
							"type": "origins:and",
							"actions": [
								{
									"type": "origins:invert",
									"action": {
										"type": "origins:mount"
									}
								},
								{
									"type": "origins:target_action",
									"action": {
										"type": "origins:execute_command",
										"command": "/scale multiply pehkui:hitbox_height 0.316 @s"
									}
								},
								{
									"type": "origins:target_action",
									"action": {
										"type": "origins:grant_power",
										"power": "*:fox/thhat",
										"source": "thorigins:temp"
									}
								}
							]
						},
						"else_action": {
							"type": "origins:if_else",
							"condition": {
								"type": "origins:actor_condition",
								"condition": {
									"type": "origins:passenger",
									"bientity_condition": {
										"type": "origins:actor_condition",
										"condition": {
											"type": "origins:power",
											"power": "*:fox/thhat",
											"source": "thorigins:temp"
										}
									}
								}
							},
							"if_action": {
								"type": "origins:and",
								"actions": [
									{
										"type": "origins:target_action",
										"action": {
											"type": "origins:execute_command",
											"command": "/tag @s add elevating"
										}
									},
									{
										"type": "origins:actor_action",
										"action": {
											"type": "origins:execute_command",
											"command": "/tp @e[tag=elevating,distance=..5,limit=1,sort=nearest] ~ ~1 ~"
										}
									},
									{
										"type": "origins:actor_action",
										"action": {
											"type": "origins:passenger_action",
											"action": {
												"type": "origins:change_resource",
												"resource": "*:fox/thhat_safari",
												"change": 1
											}
										}
									}
								]
							}
						}
					}
				]
			},
			"else_action": {
				"type": "origins:if_else",
				"condition": {
					"type": "origins:target_condition",
					"condition": {
						"type": "origins:equipped_item",
						"equipment_slot": "mainhand",
						"item_condition": {
							"type": "origins:empty",
							"inverted": true
						}
					}
				},
				"if_action": {
					"type": "origins:target_action",
					"action": {
						"type": "origins:drop_inventory",
						"slot": "weapon.mainhand",
						"inventory_type": "inventory"
					}
				},
				"else_action": {
					"type": "origins:if_else",
					"condition": {
						"type": "origins:actor_condition",
						"condition": {
							"type": "origins:resource",
							"resource": "*:fox/thsound_interaction_cooldown",
							"compare_to": 0,
							"comparison": "=="
						}
					},
					"if_action": {
						"type": "origins:if_else",
						"condition": {
							"type": "origins:relative_rotation",
							"actor_rotation": "head",
							"target_rotation": "head",
							"comparison": "<",
							"compare_to": -0.3
						},
						"if_action": {
							"type": "origins:and",
							"actions": [
								{
									"type": "origins:actor_action",
									"action": {
										"type": "origins:and",
										"actions": [
											{
												"type": "origins:delay",
												"ticks": 1,
												"action": {
													"type": "origins:execute_command",
													"command": "/tellraw @s {\"text\":\"\",\"extra\":[{\"translate\":\"Booped %s\",\"color\":\"light_purple\",\"bold\":\"true\",\"with\":[{\"selector\":\"@e[tag=booped,limit=1,sort=nearest]\",\"color\":\"aqua\"}]}]}"
												}
											},
											{
												"type": "origins:swing_hand",
												"hand": "MAIN_HAND"
											},
											{
												"type": "origins:trigger_cooldown",
												"power": "*:fox/thsound_interaction_cooldown"
											}
										]
									}
								},
								{
									"type": "origins:target_action",
									"action": {
										"type": "origins:and",
										"actions": [
											{
												"type": "origins:if_else",
												"condition": {
													"type": "origins:command",
													"command": "/data get entity @s Age",
													"compare_to": 0,
													"comparison": "<"
												},
												"if_action": {
													"type": "origins:play_sound",
													"sound": "minecraft:entity.fox.ambient",
													"pitch": 1.3,
													"volume": 1.0,
													"category": "neutral"
												},
												"else_action": {
													"type": "origins:play_sound",
													"sound": "minecraft:entity.fox.ambient",
													"pitch": 1.0,
													"volume": 1.0,
													"category": "neutral"
												}
											},
											{
												"type": "origins:execute_command",
												"command": "/tag @s add booped"
											},
											{
												"type": "origins:delay",
												"ticks": 2,
												"action": {
													"type": "origins:execute_command",
													"command": "/tag @s remove booped"
												}
											}
										]
									}
								}
							]
						},
						"else_action": {
							"type": "origins:and",
							"actions": [
								{
									"type": "origins:actor_action",
									"action": {
										"type": "origins:and",
										"actions": [
											{
												"type": "origins:delay",
												"ticks": 1,
												"action": {
													"type": "origins:execute_command",
													"command": "/tellraw @s {\"text\":\"\",\"extra\":[{\"translate\":\"fox.petter\",\"color\":\"light_purple\",\"bold\":\"true\",\"with\":[{\"selector\":\"@e[tag=petted,limit=1,sort=nearest]\",\"color\":\"aqua\"}]}]}"
												}
											},
											{
												"type": "origins:swing_hand",
												"hand": "MAIN_HAND"
											},
											{
												"type": "origins:trigger_cooldown",
												"power": "*:fox/thsound_interaction_cooldown"
											}
										]
									}
								},
								{
									"type": "origins:target_action",
									"action": {
										"type": "origins:and",
										"actions": [
											{
												"type": "origins:if_else",
												"condition": {
													"type": "origins:command",
													"command": "/data get entity @s Age",
													"compare_to": 0,
													"comparison": "<"
												},
												"if_action": {
													"type": "origins:play_sound",
													"sound": "minecraft:entity.cat.purr",
													"volume": 1.0,
													"pitch": 1.3,
													"category": "neutral"
												},
												"else_action": {
													"type": "origins:play_sound",
													"sound": "minecraft:entity.cat.purr",
													"volume": 1.0,
													"pitch": 1.0,
													"category": "neutral"
												}
											},
											{
												"type": "origins:execute_command",
												"command": "/tag @s add petted"
											},
											{
												"type": "origins:delay",
												"ticks": 2,
												"action": {
													"type": "origins:execute_command",
													"command": "/tag @s remove petted"
												}
											}
										]
									}
								}
							]
						}
					}
				}
			}
		},
		"hands": ["main_hand"],
		"item_condition": {
			"type": "origins:empty"
		},
		"bientity_condition": {
			"type": "origins:all_of",
			"conditions": [
				{
					"type": "origins:target_condition",
					"condition": {
						"type": "origins:all_of",
						"conditions": [
							{
								"type": "origins:entity_type",
								"entity_type": "minecraft:fox"
							},
							{
								"type": "origins:power",
								"power": "*:fox/thsleepin_fox",
								"inverted": true
							},
							{
								"type": "origins:power",
								"power": "*:fox/thhat",
								"inverted": true
							}
						]
					}
				}
			]
		}
	},

	"prevent_hit_by_your_hos": {
		"type": "origins:invulnerability",
		"damage_condition": {
			"type": "origins:attacker",
			"entity_condition": {
				"type": "origins:passenger",
				"bientity_condition": {
					"type": "origins:riding_recursive"
				}
			}
		}
	}
}
