{
	"type": "origins:multiple",
	"hidden": true,

	"ticks_5": {
		"type": "origins:action_over_time",
		"interval": 5,
		"condition": {
			"type": "origins:scoreboard",
			"objective": "foxtype",
			"compare_to": 7355600,
			"comparison": ">="
		},
		"entity_action": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:execute_command",
					"command": "/scoreboard players enable @s foxtype"
				},
				{
					"type": "origins:delay",
					"ticks": 1,
					"action": {
						"type": "origins:execute_command",
						"command": "/trigger foxtype add -7355608"
					}
				},
				{
					"type": "origins:spawn_particles",
					"particle": "minecraft:explosion",
					"count": 1
				},
				{
					"type": "origins:play_sound",
					"sound": "minecraft:entity.generic.explode",
					"pitch": 1.5,
					"volume": 0.2,
					"category": "players"
				},
				{
					"type": "origins:execute_command",
					"command": "/tellraw @s [{\"text\":\"The Book Disintegrated and Made a Comically Safe Explosion...\",\"color\":\"yellow\"},{\"text\":\"\\nUse [/function thorigins:fox_setting] as an Admin to get it back\",\"color\":\"gray\"}]"
				},
				{
					"type": "origins:delay",
					"ticks": 1,
					"action": {
						"type": "origins:if_else_list",
						"actions": [
							{
								"condition": {
									"type": "origins:power",
									"power": "*:extras",
									"source": "apoli:item/mainhand"
								},
								"action": {
									"type": "origins:equipped_item_action",
									"equipment_slot": "mainhand",
									"action": {
										"type": "origins:consume",
										"amount": 1
									}
								}
							},
							{
								"condition": {
									"type": "origins:power",
									"power": "*:extras",
									"source": "apoli:item/offhand"
								},
								"action": {
									"type": "origins:equipped_item_action",
									"equipment_slot": "offhand",
									"action": {
										"type": "origins:consume",
										"amount": 1
									}
								}
							},
							{
								"condition": {
									"type": "origins:constant",
									"value": true
								},
								"action": {
									"type": "origins:execute_command",
									"command": "/power remove @s thorigins:extras"
								}
							}
						]
					}
				}
			]
		}
	},

	"rechoose_origin": {
		"type": "origins:resource",
		"min": 0,
		"max": 1,
		"max_action": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:change_resource",
					"resource": "*:*_rechoose_origin",
					"change": -1
				},
				{
					"type": "origins:execute_command",
					"command": "/tag @a[tag=foxie,distance=..5] remove foxie"
				},
				{
					"type": "origins:execute_command",
					"command": "/origin set @a[tag=foxie,distance=..5] origins:origin origins:human"
				},
				{
					"type": "origins:execute_command",
					"command": "/origin set @a[tag=foxie,distance=..5] thorigins:origin origins:empty"
				},
				{
					"type": "origins:execute_command",
					"command": "/origin gui @a[tag=foxie,distance=..5]"
				}
			]
		}
	},

	"reset_all": {
		"type": "origins:resource",
		"min": 0,
		"max": 1,
		"max_action": {
			"type": "origins:and",
			"actions": [
				{
					"type": "origins:change_resource",
					"resource": "*:*_reset_all",
					"change": -1
				},
				{
					"type": "origins:execute_command",
					"command": "/execute as @a[tag=foxie,distance=..5] run trigger foxtype set 0"
				},
				{
					"type": "origins:execute_command",
					"command": "/reload"
				},
				{
					"type": "origins:execute_command",
					"command": "kill @e[tag=sleepin,distance=..5,limit=1,sort=nearest]"
				},
				{
					"type": "origins:execute_command",
					"command": "kill @e[tag=hatting,distance=..5,limit=1,sort=nearest]"
				},
				{
					"type": "origins:selector_action",
					"selector": "@e[tag=foxie,distance=..5]",
					"bientity_action": {
						"type": "origins:target_action",
						"action": {
							"type": "origins:and",
							"actions": [
								{
									"type": "origins:change_resource",
									"resource": "*:fox/thtrackers_scale_modified",
									"change": 0,
									"operation": "set"
								},
								{
									"type": "origins:execute_command",
									"command": "/scale reset @s"
								},
								{
									"type": "origins:delay",
									"ticks": 1,
									"action": {
										"type": "origins:if_else_list",
										"actions": [
											{
												"condition": {
													"type": "origins:power",
													"power": "*:extras",
													"source": "apoli:item/mainhand"
												},
												"action": {
													"type": "origins:equipped_item_action",
													"equipment_slot": "mainhand",
													"action": {
														"type": "origins:consume",
														"amount": 1
													}
												}
											},
											{
												"condition": {
													"type": "origins:power",
													"power": "*:extras",
													"source": "apoli:item/offhand"
												},
												"action": {
													"type": "origins:equipped_item_action",
													"equipment_slot": "offhand",
													"action": {
														"type": "origins:consume",
														"amount": 1
													}
												}
											},
											{
												"condition": {
													"type": "origins:constant",
													"value": true
												},
												"action": {
													"type": "origins:execute_command",
													"command": "/power remove @s thorigins:extras"
												}
											}
										]
									}
								},
								{
									"type": "origins:delay",
									"ticks": 1,
									"action": {
										"type": "origins:and",
										"actions": [
											{
												"type": "origins:execute_command",
												"command": "/tag @s remove foxie"
											},
											{
												"type": "origins:execute_command",
												"command": "/origin set @s origins:origin origins:human"
											},
											{
												"type": "origins:execute_command",
												"command": "/origin set @s thorigins:origin origins:empty"
											},
											{
												"type": "origins:execute_command",
												"command": "/power clear @s"
											},
											{
												"type": "origins:execute_command",
												"command": "/origin gui"
											}
										]
									}
								}
							]
						}
					}
				}
			]
		}
	},

	"figura": {
		"type": "origins:resource",
		"min": 0,
		"max": 2,
		"start_value": 1,
		"max_action": [
			{
				"type": "origins:change_resource",
				"resource": "*:*_figura",
				"change": 1,
				"operation": "set"
			},
			{
				"type": "origins:execute_command",
				"command": "/execute as @a[tag=foxie,distance=..5] run title @s actionbar {\"text\": \"Figura avatar mode ON, your hitbox and eye height is shrink according to the fox avatar\",\"color\":\"aqua\"}"
			},
			{
				"type": "origins:execute_command",
				"command": "/execute as @a[tag=foxie,distance=..5] run scale reset @s"
			},
			{
				"type": "origins:execute_command",
				"command": "/execute as @a[tag=foxie,distance=..5] run scale set pehkui:eye_height 0.3 @s"
			},
			{
				"type": "origins:execute_command",
				"command": "/execute as @a[tag=foxie,distance=..5] run scale set pehkui:hitbox_height 0.31 @s"
			},
			{
				"type": "origins:execute_command",
				"command": "/execute as @a[tag=foxie,distance=..5] run scale set pehkui:held_item 0.8"
			},
			{
				"type": "origins:execute_command",
				"command": "/execute as @a[tag=foxie,distance=..5] run trigger foxtype set 5"
			}
		],
		"min_action": [
			{
				"type": "origins:change_resource",
				"resource": "*:*_figura",
				"change": 1,
				"operation": "set"
			},
			{
				"type": "origins:execute_command",
				"command": "/execute as @a[tag=foxie,distance=..5] run title @s actionbar {\"text\": \"Figura avatar mode OFF, your hitbox and eye height is resetted\",\"color\":\"aqua\"}"
			},
			{
				"type": "origins:execute_command",
				"command": "/execute as @a[tag=foxie,distance=..5] run trigger foxtype set 0"
			},
			{
				"type": "origins:change_resource",
				"resource": "*:fox/thtrackers_scale_modified",
				"change": 2
			}
		]
	},

	"refresh_settings": {
		"type": "origins:resource",
		"min": 0,
		"max": 1,
		"start_value": 0,
		"max_action": [
			{
				"type": "origins:change_resource",
				"resource": "*:*_refresh_settings",
				"change": -1
			},
			{
				"type": "origins:execute_command",
				"command": "/reload"
			},
			{
				"type": "origins:execute_command",
				"command": "/power revoke @a[tag=foxie] thorigins:fox/universal_settings thorigins:universal"
			},
			{
				"type": "origins:execute_command",
				"command": "/power grant @a[tag=foxie] thorigins:fox/universal_settings thorigins:universal"
			}
		]
	}
}
